<div class="course-card" [class.pdf-card]="certification.isPdf">
  <div class="card-image">
    <!-- Preview PDF real usando PDF.js -->
    <app-pdf-preview
      *ngIf="certification.isPdf && certification.pdfPath"
      [pdfPath]="certification.pdfPath"
      [pageNumber]="1"
    ></app-pdf-preview>

    <!-- Imagem normal se não for PDF -->
    <img
      *ngIf="!certification.isPdf"
      [src]="certification.imageUrl"
      [alt]="certification.title"
      class="certification-image"
    >

    <div class="platform-badge">
      <i [class]="getPlatformIcon()"></i>
    </div>
  </div>

  <div class="card-content">
    <h4 class="course-title">{{ certification.title }}</h4>

    <p class="course-issuer">
      <i class="fas fa-school"></i>
      {{ certification.issuer }}
    </p>

    <p class="course-description" *ngIf="certification.description">{{ certification.description }}</p>

    <div class="course-technologies" *ngIf="certification.technologies && certification.technologies.length > 0">
      <span class="tech-badge" *ngFor="let tech of certification.technologies">
        {{ tech }}
      </span>
    </div>

    <!-- Carga horária se disponível -->
    <div class="course-hours" *ngIf="certification.hours">
      <i class="fas fa-clock"></i>
      <span>{{ certification.hours }}h de curso</span>
    </div>

    <div class="course-footer">
      <!-- Botões para PDF -->
      <div class="pdf-actions" *ngIf="certification.isPdf">
        <button
          class="btn-view"
          (click)="openPdf()"
          title="Visualizar PDF"
        >
          <i class="fas fa-eye"></i>
          Visualizar
        </button>
        <button
          class="btn-download"
          (click)="downloadPdf()"
          title="Baixar PDF"
        >
          <i class="fas fa-download"></i>
          <span class="btn-text">Download</span>
        </button>
      </div>

      <!-- Link normal para certificados online -->
      <a
        *ngIf="!certification.isPdf && certification.credentialUrl !== '#'"
        [href]="certification.credentialUrl"
        target="_blank"
        rel="noopener noreferrer"
        class="view-certificate"
      >
        <i class="fas fa-external-link-alt"></i>
        Ver certificado
      </a>
    </div>
  </div>
</div>
