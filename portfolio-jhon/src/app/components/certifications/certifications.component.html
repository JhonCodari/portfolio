<div class="certifications-container">
  <section class="hero-section">
    <div class="hero-content">
      <h1 class="page-title">Certificações & Cursos</h1>
      <p class="page-subtitle">
        Desenvolvedor Certificado pela AWS com centenas de horas em cursos de capacitação
      </p>
      <div class="stats">
        <div class="stat-item">
          <span class="stat-number">{{ awsCertifications.length }}</span>
          <span class="stat-label">Certificações AWS</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">{{ courseCertifications.length }}</span>
          <span class="stat-label">Cursos Concluídos</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">{{ getTotalCertifications() }}</span>
          <span class="stat-label">Total de Certificados</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">{{ getTotalStudyHours() }}+</span>
          <span class="stat-label">Horas de Estudo</span>
        </div>
      </div>

      <div class="top-technologies" *ngIf="!isLoading && getTopTechnologies().length > 0">
        <p class="tech-label">Principais Tecnologias:</p>
        <div class="tech-tags">
          <span class="tech-tag" *ngFor="let tech of getTopTechnologies()">
            {{ tech }}
          </span>
        </div>
      </div>
    </div>
  </section>

  <section class="featured-certifications" *ngIf="!isLoading && awsCertifications.length > 0">
    <div class="section-header">
      <h2 class="section-title">
        <i class="fab fa-aws"></i>
        Certificações AWS
      </h2>
      <p class="section-description">
        Certificações oficiais da Amazon Web Services validando competências em cloud computing
      </p>
    </div>

    <div class="aws-certifications-grid">
      <app-aws-certification-card
        *ngFor="let cert of awsCertifications; let i = index"
        [certification]="cert"
        [style.animation-delay]="i * 0.1 + 's'">
      </app-aws-certification-card>
    </div>
  </section>

  <section class="featured-certifications" *ngIf="isLoading">
    <div class="section-header">
      <div class="skeleton skeleton-title"></div>
      <div class="skeleton skeleton-description"></div>
    </div>
    <div class="aws-certifications-grid">
      <div class="skeleton-card" *ngFor="let item of [1, 2]"></div>
    </div>
  </section>

  <section class="courses-section">
    <div class="section-header">
      <h2 class="section-title">
        <i class="fas fa-graduation-cap"></i>
        Cursos de Capacitação
      </h2>
      <p class="section-description">
        Cursos concluídos em diversas plataformas de ensino e tecnologias
      </p>
    </div>

    <div class="filters-header">
      <div class="results-info">
        <i class="fas fa-filter"></i>
        <span>{{ getFilteredCount() }} curso(s) encontrado(s)</span>
      </div>

      <button class="toggle-filters-btn" (click)="toggleFilters()">
        <i [class]="showFilters ? 'fas fa-chevron-up' : 'fas fa-chevron-down'"></i>
        {{ showFilters ? 'Ocultar' : 'Mostrar' }} Filtros
      </button>
    </div>

    <div class="filters-container" [class.visible]="showFilters">
      <div class="search-box">
        <i class="fas fa-search"></i>
        <input
          type="text"
          placeholder="Buscar por curso..."
          [value]="searchTerm"
          (input)="onSearchChange($event)"
        >
      </div>

      <div class="filter-group">
        <label for="platform-filter">
          <i class="fas fa-school"></i>
          Plataforma:
        </label>
        <select
          id="platform-filter"
          [value]="selectedPlatform"
          (change)="onPlatformChange($any($event.target).value)"
        >
          <option *ngFor="let platform of platforms" [value]="platform">
            {{ platform === 'all' ? 'Todas as plataformas' : platform }}
          </option>
        </select>
      </div>

      <div class="filter-group">
        <label for="technology-filter">
          <i class="fas fa-code"></i>
          Tecnologia:
        </label>
        <select
          id="technology-filter"
          [value]="selectedTechnology"
          (change)="onTechnologyChange($any($event.target).value)"
        >
          <option *ngFor="let tech of technologies" [value]="tech">
            {{ tech === 'all' ? 'Todas as tecnologias' : tech }}
          </option>
        </select>
      </div>

      <div class="filter-group">
        <label for="sort-filter">
          <i class="fas fa-sort"></i>
          Ordenar por:
        </label>
        <select
          id="sort-filter"
          [value]="sortBy"
          (change)="onSortChange($any($event.target).value)"
        >
          <option value="date">Data (Mais recente)</option>
          <option value="name">Nome (A-Z)</option>
          <option value="platform">Plataforma</option>
        </select>
      </div>

      <button class="clear-filters-btn" (click)="clearFilters()" *ngIf="selectedPlatform !== 'all' || selectedTechnology !== 'all' || searchTerm !== ''">
        <i class="fas fa-times"></i>
        Limpar Filtros
      </button>
    </div>

    <div class="courses-grid" *ngIf="!isLoading && filteredCourses.length > 0">
      <app-course-card
        *ngFor="let course of filteredCourses; let i = index"
        [certification]="course"
        [style.animation-delay]="i * 0.05 + 's'">
      </app-course-card>
    </div>

    <div class="courses-grid" *ngIf="isLoading">
      <div class="skeleton-card small" *ngFor="let item of [1, 2, 3, 4, 5, 6, 7, 8]"></div>
    </div>

    <div class="no-results" *ngIf="!isLoading && filteredCourses.length === 0">
      <i class="fas fa-search"></i>
      <h3>Nenhum curso encontrado</h3>
      <p>Tente ajustar os filtros ou buscar por outro termo.</p>
      <button class="clear-filters-btn" (click)="clearFilters()">
        <i class="fas fa-redo"></i>
        Resetar Filtros
      </button>
    </div>
  </section>
</div>
